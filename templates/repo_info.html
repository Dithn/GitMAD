{% extends "base.html" %}

{% block title %}
GitMAD
{% endblock %}

{% block content %}
<form method="POST">
    <table id="web_monitor">
        <tr>
            <th>Filter:</th><th></th>
        </tr>
        <tr>
            <td>Number of results:</td>
            <td><input name="num_results" type="number" value="{{ p_dict['num_res'] }}"></td>
        </tr>
        <tr>
            <td>Repo User:</td>
            {% if p_dict['r_user'] == '%' %}
            <td><input name="repo_user" type="text" value=""></td>
            {% else %}
            <td><input name="repo_user" type="text" value="{{ p_dict['r_user'] }}"></td>
            {% endif %}
        </tr>
        <tr>
            <td>Repo Name:</td>
            {% if p_dict['r_name'] == '%' %}
            <td><input name="repo_name" type="text" value=""></td>
            {% else %}
            <td><input name="repo_name" type="text" value="{{ p_dict['r_name'] }}"></td>
            {% endif %}
        </tr>
        <tr>
            <td>Repo Cloned:</td>
            <td><select name="is_cloned">
                <option value="Any">Any</option>
                {% for item in select_opt %}
                <option value="{{ item }}" >{{ item }}</option>
                {% endfor %}
            </select></td>
        </tr>
        <tr>
            <td>In Repo Description:</td>
            {% if p_dict['r_desc'] == '%' %}
            <td><input name="repo_description" type="text" value=""></td>
            {% else %}
            <td><input name="repo_description" type="text" value="{{ p_dict['r_desc'] }}"></td>
            {% endif %}
        </tr>
        <tr>
            <td><input type="Submit" name="btn" value="Clear Filter"></td>
            <td><input type="Submit" name="btn" value="Submit"></td>
         </tr>
    </table>
</form>
<br/>
<h2>Results:</h2>
<p>Number of recent results shown:</p>
<p>{{num_results}}</p>
<br/>
<table id="web_monitor2">
    <thead>
        <tr>
            <th>Repo User</th>
            <th>Repo Name</th>
            <th>Repo ID</th>
            <th>Repo Owner ID</th>
            <th>Repo Last Checked</th>
            <th>Repo Size (MB)</th>
            <th>Repo Cloned</th>
            <th>Repo Description</th>

        </tr>
    </thead>
    {% for result in results %}
        <tr>
            <td>{{ result[2] }}</td>
            <td>{{ result[3] }}</td>
            <td>{{ result[0] }}</td>
            <td>{{ result[1] }}</td>
            <td>{{ result[7] }}</td>
            <td>{{ result[4] / 100 }}</td>
            <td>{{ result[5] }}</td>
            <td>{{ result[6] }}</td>

        </tr>
    {% endfor %}
</table>
{% endblock %}

{% block sidebar %}
{% endblock %}