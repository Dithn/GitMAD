{% extends "base.html" %}

{% block title %}
GitMAD
{% endblock %}

{% block content %}
<form method="POST">
    <table id="web_monitor">
        <tr>
            <th>Filter:</th><th></th>
        </tr>
        <tr>
            <td>Number of results:</td>
            <td><input name="num_results" type="number" value="100"></td>
        </tr>
        <tr>
            <td>Repo User:</td>
            <td><input name="repo_user" type="text"></td>
        </tr>
        <tr>
            <td>Repo Name:</td>
            <td><input name="repo_name" type="text"></td>
        </tr>
        <tr>
            <td>Match Type:</td>
            <td><select>
                <option value="Any">Any</option>
                {% for item in select_opt %}
                <option value="{{ item }}" >{{ item }}</option>
                {% endfor %}
            </select></td>
        </tr>
        <tr>
            <td>In Match String:</td>
            <td><input name="match_string" type="text"></td>
        </tr>
        <tr>
            <td>In Match Line:</td>
            <td><input name="match_line" type="text"></td>
        </tr>
        <tr>
            <td>In Match Location:</td>
            <td><input name="location" type="location"></td>
        </tr>


        <tr>
            <td></td>
            <td><input type="Submit"></td>
         </tr>
    </table>
</form>
<h2>The 'Match Type' filter is presently not available.</h2>
<h2>In addition, the above filters cannot yet be chained together</h2>
<br/>
<h1>New Results:</h1>
<p>Number of recent results shown:</p>
<p>{{num_results}}</p>
<!-- <p>Query:</p>
<p>{{ query }}</p> -->
<table id="web_monitor2">
    <thead>
        <tr>
            <th>Repo User</th>
            <th>Repo Name</th>
            <th>Time Inserted</th>
            <th>Match Type</th>
            <th>Match String</th>
            <th>Match Line</th>
            <th>Location</th>
            {# <th>Commit Add/Del</th> #}
            <th>Commit Message</th>
            <th>Repo Description</th>
        </tr>
    </thead>
    {% for result in results %}
        <tr>
            <td>{{ result[0] }}</td>
            <td>{{ result[1] }}</td>
            <td>{{ result[2] }}</td>
            <td>{{ result[3] }}</td>
            <td>{{ result[4][:64] }}</td>
            <td>{{ result[5] }}</td>
            <td>{{ result[6] }}</td>
            {# <td>{{ result[7] }}</td> #}
            <td>{{ result[8] }}</td>
            <td>{{ result[9] }}</td>
        </tr>
    {% endfor %}
</table>



{% endblock %}

{% block sidebar %}
{% endblock %}